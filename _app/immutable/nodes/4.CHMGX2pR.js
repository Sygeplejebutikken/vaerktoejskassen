import{s as Ve,n as Ie,r as He,f as je}from"../chunks/scheduler.ai0Xrpo1.js";import{S as We,i as Qe,e as X,s as ye,h as De,c as $,j as pe,g as we,l as be,k as Te,f as re,b as B,d as Oe,m as z,z as Re,n as Ae,A as Fe,B as Je,C as Ue,D as Ge}from"../chunks/index.BsInBBQn.js";function Pe(m){return(m==null?void 0:m.length)!==void 0?m:Array.from(m)}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ke={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(m,u){(function(_,p){m.exports=p()})(Ze,function _(){var p=typeof self<"u"?self:typeof window<"u"?window:p!==void 0?p:{},I=!p.document&&!!p.postMessage,f=p.IS_PAPA_WORKER||!1,v={},G=0,s={parse:function(t,e){var r=(e=e||{}).dynamicTyping||!1;if(k(r)&&(e.dynamicTypingFunction=r,r={}),e.dynamicTyping=r,e.transform=!!k(e.transform)&&e.transform,e.worker&&s.WORKERS_SUPPORTED){var n=function(){if(!s.WORKERS_SUPPORTED)return!1;var l=(T=p.URL||p.webkitURL||null,O=_.toString(),s.BLOB_URL||(s.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))),g=new p.Worker(l),T,O;return g.onmessage=te,g.id=G++,v[g.id]=g}();return n.userStep=e.step,n.userChunk=e.chunk,n.userComplete=e.complete,n.userError=e.error,e.step=k(e.step),e.chunk=k(e.chunk),e.complete=k(e.complete),e.error=k(e.error),delete e.worker,void n.postMessage({input:t,config:e,workerId:n.id})}var i=null;return s.NODE_STREAM_INPUT,typeof t=="string"?(t=function(l){return l.charCodeAt(0)===65279?l.slice(1):l}(t),i=e.download?new w(e):new D(e)):t.readable===!0&&k(t.read)&&k(t.on)?i=new fe(e):(p.File&&t instanceof File||t instanceof Object)&&(i=new y(e)),i.stream(t)},unparse:function(t,e){var r=!1,n=!0,i=",",l=`\r
`,g='"',T=g+g,O=!1,o=null,M=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||s.BAD_DELIMITERS.filter(function(a){return e.delimiter.indexOf(a)!==-1}).length||(i=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(r=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(O=e.skipEmptyLines),typeof e.newline=="string"&&(l=e.newline),typeof e.quoteChar=="string"&&(g=e.quoteChar),typeof e.header=="boolean"&&(n=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(T=e.escapeChar+g),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(M=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var d=new RegExp(ee(g),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return oe(null,t,O);if(typeof t[0]=="object")return oe(o||Object.keys(t[0]),t,O)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),oe(t.fields||[],t.data||[],O);throw new Error("Unable to serialize unrecognized input");function oe(a,A,Q){var P="";typeof a=="string"&&(a=JSON.parse(a)),typeof A=="string"&&(A=JSON.parse(A));var j=Array.isArray(a)&&0<a.length,V=!Array.isArray(A[0]);if(j&&n){for(var H=0;H<a.length;H++)0<H&&(P+=i),P+=W(a[H],H);0<A.length&&(P+=l)}for(var h=0;h<A.length;h++){var C=j?a.length:A[h].length,L=!1,K=j?Object.keys(A[h]).length===0:A[h].length===0;if(Q&&!j&&(L=Q==="greedy"?A[h].join("").trim()==="":A[h].length===1&&A[h][0].length===0),Q==="greedy"&&j){for(var R=[],J=0;J<C;J++){var N=V?a[J]:J;R.push(A[h][N])}L=R.join("").trim()===""}if(!L){for(var S=0;S<C;S++){0<S&&!K&&(P+=i);var le=j&&V?a[S]:S;P+=W(A[h][le],S)}h<A.length-1&&(!Q||0<C&&!K)&&(P+=l)}}return P}function W(a,A){if(a==null)return"";if(a.constructor===Date)return JSON.stringify(a).slice(1,25);var Q=!1;M&&typeof a=="string"&&M.test(a)&&(a="'"+a,Q=!0);var P=a.toString().replace(d,T);return(Q=Q||r===!0||typeof r=="function"&&r(a,A)||Array.isArray(r)&&r[A]||function(j,V){for(var H=0;H<V.length;H++)if(-1<j.indexOf(V[H]))return!0;return!1}(P,s.BAD_DELIMITERS)||-1<P.indexOf(i)||P.charAt(0)===" "||P.charAt(P.length-1)===" ")?g+P+g:P}}};if(s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!I&&!!p.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=ue,s.ParserHandle=ge,s.NetworkStreamer=w,s.FileStreamer=y,s.StringStreamer=D,s.ReadableStreamStreamer=fe,p.jQuery){var b=p.jQuery;b.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(l){if(!(b(this).prop("tagName").toUpperCase()==="INPUT"&&b(this).attr("type").toLowerCase()==="file"&&p.FileReader)||!this.files||this.files.length===0)return!0;for(var g=0;g<this.files.length;g++)r.push({file:this.files[g],inputElem:this,instanceConfig:b.extend({},e)})}),n(),this;function n(){if(r.length!==0){var l,g,T,O,o=r[0];if(k(t.before)){var M=t.before(o.file,o.inputElem);if(typeof M=="object"){if(M.action==="abort")return l="AbortError",g=o.file,T=o.inputElem,O=M.reason,void(k(t.error)&&t.error({name:l},g,T,O));if(M.action==="skip")return void i();typeof M.config=="object"&&(o.instanceConfig=b.extend(o.instanceConfig,M.config))}else if(M==="skip")return void i()}var d=o.instanceConfig.complete;o.instanceConfig.complete=function(oe){k(d)&&d(oe,o.file,o.inputElem),i()},s.parse(o.file,o.instanceConfig)}else k(t.complete)&&t.complete()}function i(){r.splice(0,1),n()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var r=U(e);r.chunkSize=parseInt(r.chunkSize),e.step||e.chunk||(r.chunkSize=null),this._handle=new ge(r),(this._handle.streamer=this)._config=r}).call(this,t),this.parseChunk=function(e,r){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);n!==void 0&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var l=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var g=l.meta.cursor;this._finished||(this._partialLine=i.substring(g-this._baseIndex),this._baseIndex=g),l&&l.data&&(this._rowCount+=l.data.length);var T=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(f)p.postMessage({results:l,workerId:s.WORKER_ID,finished:T});else if(k(this._config.chunk)&&!r){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!T||!k(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){k(this._config.error)?this._config.error(e):f&&this._config.error&&p.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function w(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),c.call(this,t),this._nextChunk=I?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),I||(e.onload=Y(this._chunkLoaded,this),e.onerror=Y(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!I),this._config.downloadRequestHeaders){var r=this._config.downloadRequestHeaders;for(var n in r)e.setRequestHeader(n,r[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(l){this._chunkError(l.message)}I&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(r){var n=r.getResponseHeader("Content-Range");return n===null?-1:parseInt(n.substring(n.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(r){var n=e.statusText||r;this._sendError(new Error(n))}}function y(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),c.call(this,t);var n=typeof FileReader<"u";this.stream=function(i){this._input=i,r=i.slice||i.webkitSlice||i.mozSlice,n?((e=new FileReader).onload=Y(this._chunkLoaded,this),e.onerror=Y(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var i=this._input;if(this._config.chunkSize){var l=Math.min(this._start+this._config.chunkSize,this._input.size);i=r.call(i,this._start,l)}var g=e.readAsText(i,this._config.encoding);n||this._chunkLoaded({target:{result:g}})},this._chunkLoaded=function(i){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(i.target.result)},this._chunkError=function(){this._sendError(e.error)}}function D(t){var e;c.call(this,t=t||{}),this.stream=function(r){return e=r,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var r,n=this._config.chunkSize;return n?(r=e.substring(0,n),e=e.substring(n)):(r=e,e=""),this._finished=!e,this.parseChunk(r)}}}function fe(t){c.call(this,t=t||{});var e=[],r=!0,n=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(i){this._input=i,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=Y(function(i){try{e.push(typeof i=="string"?i:i.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(l){this._streamError(l)}},this),this._streamError=Y(function(i){this._streamCleanUp(),this._sendError(i)},this),this._streamEnd=Y(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ge(t){var e,r,n,i=Math.pow(2,53),l=-i,g=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,T=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,o=0,M=0,d=!1,oe=!1,W=[],a={data:[],errors:[],meta:{}};if(k(t.step)){var A=t.step;t.step=function(h){if(a=h,j())P();else{if(P(),a.data.length===0)return;o+=h.data.length,t.preview&&o>t.preview?r.abort():(a.data=a.data[0],A(a,O))}}}function Q(h){return t.skipEmptyLines==="greedy"?h.join("").trim()==="":h.length===1&&h[0].length===0}function P(){return a&&n&&(H("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(a.data=a.data.filter(function(h){return!Q(h)})),j()&&function(){if(!a)return;function h(L,K){k(t.transformHeader)&&(L=t.transformHeader(L,K)),W.push(L)}if(Array.isArray(a.data[0])){for(var C=0;j()&&C<a.data.length;C++)a.data[C].forEach(h);a.data.splice(0,1)}else a.data.forEach(h)}(),function(){if(!a||!t.header&&!t.dynamicTyping&&!t.transform)return a;function h(L,K){var R,J=t.header?{}:[];for(R=0;R<L.length;R++){var N=R,S=L[R];t.header&&(N=R>=W.length?"__parsed_extra":W[R]),t.transform&&(S=t.transform(S,N)),S=V(N,S),N==="__parsed_extra"?(J[N]=J[N]||[],J[N].push(S)):J[N]=S}return t.header&&(R>W.length?H("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+R,M+K):R<W.length&&H("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+R,M+K)),J}var C=1;return!a.data.length||Array.isArray(a.data[0])?(a.data=a.data.map(h),C=a.data.length):a.data=h(a.data,0),t.header&&a.meta&&(a.meta.fields=W),M+=C,a}()}function j(){return t.header&&W.length===0}function V(h,C){return L=h,t.dynamicTypingFunction&&t.dynamicTyping[L]===void 0&&(t.dynamicTyping[L]=t.dynamicTypingFunction(L)),(t.dynamicTyping[L]||t.dynamicTyping)===!0?C==="true"||C==="TRUE"||C!=="false"&&C!=="FALSE"&&(function(K){if(g.test(K)){var R=parseFloat(K);if(l<R&&R<i)return!0}return!1}(C)?parseFloat(C):T.test(C)?new Date(C):C===""?null:C):C;var L}function H(h,C,L,K){var R={type:h,code:C,message:L};K!==void 0&&(R.row=K),a.errors.push(R)}this.parse=function(h,C,L){var K=t.quoteChar||'"';if(t.newline||(t.newline=function(N,S){N=N.substring(0,1048576);var le=new RegExp(ee(S)+"([^]*?)"+ee(S),"gm"),ne=(N=N.replace(le,"")).split("\r"),he=N.split(`
`),de=1<he.length&&he[0].length<ne[0].length;if(ne.length===1||de)return`
`;for(var ie=0,F=0;F<ne.length;F++)ne[F][0]===`
`&&ie++;return ie>=ne.length/2?`\r
`:"\r"}(h,K)),n=!1,t.delimiter)k(t.delimiter)&&(t.delimiter=t.delimiter(h),a.meta.delimiter=t.delimiter);else{var R=function(N,S,le,ne,he){var de,ie,F,q;he=he||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var ke=0;ke<he.length;ke++){var E=he[ke],Ee=0,ce=0,Ce=0;F=void 0;for(var _e=new ue({comments:ne,delimiter:E,newline:S,preview:10}).parse(N),me=0;me<_e.data.length;me++)if(le&&Q(_e.data[me]))Ce++;else{var ve=_e.data[me].length;ce+=ve,F!==void 0?0<ve&&(Ee+=Math.abs(ve-F),F=ve):F=ve}0<_e.data.length&&(ce/=_e.data.length-Ce),(ie===void 0||Ee<=ie)&&(q===void 0||q<ce)&&1.99<ce&&(ie=Ee,de=E,q=ce)}return{successful:!!(t.delimiter=de),bestDelimiter:de}}(h,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);R.successful?t.delimiter=R.bestDelimiter:(n=!0,t.delimiter=s.DefaultDelimiter),a.meta.delimiter=t.delimiter}var J=U(t);return t.preview&&t.header&&J.preview++,e=h,r=new ue(J),a=r.parse(e,C,L),P(),d?{meta:{paused:!0}}:a||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,r.abort(),e=k(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){O.streamer._halted?(d=!1,O.streamer.parseChunk(e,!0)):setTimeout(O.resume,3)},this.aborted=function(){return oe},this.abort=function(){oe=!0,r.abort(),a.meta.aborted=!0,k(t.complete)&&t.complete(a),e=""}}function ee(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ue(t){var e,r=(t=t||{}).delimiter,n=t.newline,i=t.comments,l=t.step,g=t.preview,T=t.fastMode,O=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(O=t.escapeChar),(typeof r!="string"||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=","),i===r)throw new Error("Comment character same as delimiter");i===!0?i="#":(typeof i!="string"||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var o=0,M=!1;this.parse=function(d,oe,W){if(typeof d!="string")throw new Error("Input must be a string");var a=d.length,A=r.length,Q=n.length,P=i.length,j=k(l),V=[],H=[],h=[],C=o=0;if(!d)return se();if(t.header&&!oe){var L=d.split(n)[0].split(r),K=[],R={},J=!1;for(var N in L){var S=L[N];k(t.transformHeader)&&(S=t.transformHeader(S,N));var le=S,ne=R[S]||0;for(0<ne&&(J=!0,le=S+"_"+ne),R[S]=ne+1;K.includes(le);)le=le+"_"+ne;K.push(le)}if(J){var he=d.split(n);he[0]=K.join(r),d=he.join(n)}}if(T||T!==!1&&d.indexOf(e)===-1){for(var de=d.split(n),ie=0;ie<de.length;ie++){if(h=de[ie],o+=h.length,ie!==de.length-1)o+=n.length;else if(W)return se();if(!i||h.substring(0,P)!==i){if(j){if(V=[],Ce(h.split(r)),xe(),M)return se()}else Ce(h.split(r));if(g&&g<=ie)return V=V.slice(0,g),se(!0)}}return se()}for(var F=d.indexOf(r,o),q=d.indexOf(n,o),ke=new RegExp(ee(O)+ee(e),"g"),E=d.indexOf(e,o);;)if(d[o]!==e)if(i&&h.length===0&&d.substring(o,o+P)===i){if(q===-1)return se();o=q+Q,q=d.indexOf(n,o),F=d.indexOf(r,o)}else if(F!==-1&&(F<q||q===-1))h.push(d.substring(o,F)),o=F+A,F=d.indexOf(r,o);else{if(q===-1)break;if(h.push(d.substring(o,q)),ve(q+Q),j&&(xe(),M))return se();if(g&&V.length>=g)return se(!0)}else for(E=o,o++;;){if((E=d.indexOf(e,E+1))===-1)return W||H.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:V.length,index:o}),me();if(E===a-1)return me(d.substring(o,E).replace(ke,e));if(e!==O||d[E+1]!==O){if(e===O||E===0||d[E-1]!==O){F!==-1&&F<E+1&&(F=d.indexOf(r,E+1)),q!==-1&&q<E+1&&(q=d.indexOf(n,E+1));var Ee=_e(q===-1?F:Math.min(F,q));if(d.substr(E+1+Ee,A)===r){h.push(d.substring(o,E).replace(ke,e)),d[o=E+1+Ee+A]!==e&&(E=d.indexOf(e,o)),F=d.indexOf(r,o),q=d.indexOf(n,o);break}var ce=_e(q);if(d.substring(E+1+ce,E+1+ce+Q)===n){if(h.push(d.substring(o,E).replace(ke,e)),ve(E+1+ce+Q),F=d.indexOf(r,o),E=d.indexOf(e,o),j&&(xe(),M))return se();if(g&&V.length>=g)return se(!0);break}H.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:V.length,index:o}),E++}}else E++}return me();function Ce(ae){V.push(ae),C=o}function _e(ae){var Le=0;if(ae!==-1){var Se=d.substring(E+1,ae);Se&&Se.trim()===""&&(Le=Se.length)}return Le}function me(ae){return W||(ae===void 0&&(ae=d.substring(o)),h.push(ae),o=a,Ce(h),j&&xe()),se()}function ve(ae){o=ae,Ce(h),h=[],q=d.indexOf(n,o)}function se(ae){return{data:V,errors:H,meta:{delimiter:r,linebreak:n,aborted:M,truncated:!!ae,cursor:C+(oe||0)}}}function xe(){l(se()),V=[],H=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return o}}function te(t){var e=t.data,r=v[e.workerId],n=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){n=!0,x(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Z,resume:Z};if(k(r.userStep)){for(var l=0;l<e.results.data.length&&(r.userStep({data:e.results.data[l],errors:e.results.errors,meta:e.results.meta},i),!n);l++);delete e.results}else k(r.userChunk)&&(r.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!n&&x(e.workerId,e.results)}function x(t,e){var r=v[t];k(r.userComplete)&&r.userComplete(e),r.terminate(),delete v[t]}function Z(){throw new Error("Not implemented.")}function U(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=U(t[r]);return e}function Y(t,e){return function(){t.apply(e,arguments)}}function k(t){return typeof t=="function"}return f&&(p.onmessage=function(t){var e=t.data;if(s.WORKER_ID===void 0&&e&&(s.WORKER_ID=e.workerId),typeof e.input=="string")p.postMessage({workerId:s.WORKER_ID,results:s.parse(e.input,e.config),finished:!0});else if(p.File&&e.input instanceof File||e.input instanceof Object){var r=s.parse(e.input,e.config);r&&p.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(w.prototype=Object.create(c.prototype)).constructor=w,(y.prototype=Object.create(c.prototype)).constructor=y,(D.prototype=Object.create(D.prototype)).constructor=D,(fe.prototype=Object.create(c.prototype)).constructor=fe,s})})(Ke);var ze=Ke.exports;function Me(m,u,_){const p=m.slice();return p[16]=u[_],p}function Ne(m){let u,_,p="Vælg prisliste",I,f,v,G,s=Pe(m[1]),b=[];for(let c=0;c<s.length;c+=1)b[c]=Be(Me(m,s,c));return{c(){u=X("div"),_=X("label"),_.textContent=p,I=ye(),f=X("select");for(let c=0;c<b.length;c+=1)b[c].c();this.h()},l(c){u=$(c,"DIV",{class:!0});var w=pe(u);_=$(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),we(_)!=="svelte-18z3qh2"&&(_.textContent=p),I=be(w),f=$(w,"SELECT",{id:!0,class:!0});var y=pe(f);for(let D=0;D<b.length;D+=1)b[D].l(y);y.forEach(re),w.forEach(re),this.h()},h(){B(_,"for","headerDropdown"),B(_,"class","block text-lg font-semibold mb-2"),B(f,"id","headerDropdown"),B(f,"class","block w-full border p-2 rounded-lg max-h-48 overflow-y-auto"),m[2]===void 0&&je(()=>m[9].call(f)),B(u,"class","mb-4")},m(c,w){Oe(c,u,w),z(u,_),z(u,I),z(u,f);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(f,null);Fe(f,m[2],!0),v||(G=Re(f,"change",m[9]),v=!0)},p(c,w){if(w&2){s=Pe(c[1]);let y;for(y=0;y<s.length;y+=1){const D=Me(c,s,y);b[y]?b[y].p(D,w):(b[y]=Be(D),b[y].c(),b[y].m(f,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=s.length}w&6&&Fe(f,c[2])},d(c){c&&re(u),Je(b,c),v=!1,G()}}}function Be(m){let u,_=m[16]+"",p,I;return{c(){u=X("option"),p=De(_),this.h()},l(f){u=$(f,"OPTION",{});var v=pe(u);p=Te(v,_),v.forEach(re),this.h()},h(){u.__value=I=m[16],Ue(u,u.__value)},m(f,v){Oe(f,u,v),z(u,p)},p(f,v){v&2&&_!==(_=f[16]+"")&&Ae(p,_),v&2&&I!==(I=f[16])&&(u.__value=I,Ue(u,u.__value))},d(f){f&&re(u)}}}function qe(m){let u,_="Generer CSV",p,I;return{c(){u=X("button"),u.textContent=_,this.h()},l(f){u=$(f,"BUTTON",{class:!0,"data-svelte-h":!0}),we(u)!=="svelte-7ab01c"&&(u.textContent=_),this.h()},h(){B(u,"class","w-full bg-red-500 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-600")},m(f,v){Oe(f,u,v),p||(I=Re(u,"click",m[6]),p=!0)},p:Ie,d(f){f&&re(u),p=!1,I()}}}function Ye(m){let u,_,p="Turis til Canva",I,f,v,G,s="Vælg Turis produkt CSV",b,c,w,y,D,fe="Vælg fil",ge,ee,ue,te,x,Z,U,Y,k,t,e=m[3]&&Ne(m),r=m[3]&&qe(m);return{c(){u=X("div"),_=X("h1"),_.textContent=p,I=ye(),f=X("div"),v=X("div"),G=X("p"),G.textContent=s,b=ye(),c=X("div"),w=X("input"),y=ye(),D=X("button"),D.textContent=fe,ge=ye(),ee=X("span"),ue=De(m[0]),te=ye(),e&&e.c(),x=ye(),r&&r.c(),Z=ye(),U=X("p"),Y=De(m[4]),this.h()},l(n){u=$(n,"DIV",{class:!0});var i=pe(u);_=$(i,"H1",{class:!0,"data-svelte-h":!0}),we(_)!=="svelte-1wk170q"&&(_.textContent=p),I=be(i),f=$(i,"DIV",{class:!0});var l=pe(f);v=$(l,"DIV",{class:!0});var g=pe(v);G=$(g,"P",{class:!0,"data-svelte-h":!0}),we(G)!=="svelte-1or4ool"&&(G.textContent=s),b=be(g),c=$(g,"DIV",{class:!0});var T=pe(c);w=$(T,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),y=be(T),D=$(T,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),we(D)!=="svelte-z7zehk"&&(D.textContent=fe),ge=be(T),ee=$(T,"SPAN",{class:!0});var O=pe(ee);ue=Te(O,m[0]),O.forEach(re),T.forEach(re),g.forEach(re),te=be(l),e&&e.l(l),x=be(l),r&&r.l(l),l.forEach(re),Z=be(i),U=$(i,"P",{id:!0,class:!0});var o=pe(U);Y=Te(o,m[4]),o.forEach(re),i.forEach(re),this.h()},h(){B(_,"class","text-3xl font-bold text-center mb-5"),B(G,"class","block text-lg font-semibold mb-2"),B(w,"type","file"),B(w,"id","csvFileInput"),B(w,"accept",".csv"),B(w,"class","hidden"),B(D,"type","button"),B(D,"class","bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-semibold hover:bg-gray-300"),B(ee,"class","ml-2 text-sm text-gray-600"),B(c,"class","relative"),B(v,"class","mb-4"),B(f,"class","bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto"),B(U,"id","statusMessage"),B(U,"class","text-center mt-5"),B(u,"class","container mx-auto py-10")},m(n,i){Oe(n,u,i),z(u,_),z(u,I),z(u,f),z(f,v),z(v,G),z(v,b),z(v,c),z(c,w),z(c,y),z(c,D),z(c,ge),z(c,ee),z(ee,ue),z(f,te),e&&e.m(f,null),z(f,x),r&&r.m(f,null),z(u,Z),z(u,U),z(U,Y),k||(t=[Re(w,"change",m[5]),Re(D,"click",m[8])],k=!0)},p(n,[i]){i&1&&Ae(ue,n[0]),n[3]?e?e.p(n,i):(e=Ne(n),e.c(),e.m(f,x)):e&&(e.d(1),e=null),n[3]?r?r.p(n,i):(r=qe(n),r.c(),r.m(f,null)):r&&(r.d(1),r=null),i&16&&Ae(Y,n[4])},i:Ie,o:Ie,d(n){n&&re(u),e&&e.d(),r&&r.d(),k=!1,He(t)}}}function Xe(m){return parseFloat(m).toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}function $e(m,u,_){let I="",f=[],v=[],G=new Set,s="",b=!1,c="";const w=["Name","Brand","Supplier","SKU","Warehouse Location","EAN","Style Number","HS Code","Unit Cost","Variant","Variant Title","Size/Volume","Category","Sub-Category","Groups","Color","Material","Dimensions","Unit weight","Unit volume","EUR","DKK","NOK","SEK","RRP_EUR","RRP_DKK","RRP_NOK","RRP_SEK","Discount Tiers","Stock","Allow Backorders","Purchase Requirements","Case Quantity","UOM","Description","New Product","Images","Units Ordered","Orders Count"];function y(te){const x=te.target;x.files.length>0&&(_(0,I=x.files[0].name),D(x.files[0]))}function D(te){ze.parse(te,{header:!0,delimiter:";",complete(x){_(1,v=x.meta.fields.filter(Z=>!w.includes(Z))),f=x.data,_(3,b=!0),_(4,c="Vælg en kolonne til priser fra dropdown.")}})}function fe(){if(!s){alert("Vælg venligst en priskolonne.");return}let te=[];f.forEach(x=>{let Z=x[s]?x[s].trim():null;const U=x.Variant?x.Variant.trim():null;if(Z&&(Z=Xe(Z),U&&!G.has(U))){G.add(U);const Y={Name:x.Name,Brand:x.Brand,SKU:x.SKU,Price:Z,Description:x.Description,Images:x.Images};te.push(Y)}}),ge(te)}function ge(te){const x=ze.unparse(te,{quotes:!0,delimiter:";",header:!0}),Z=new Blob([new Uint8Array([239,187,191]),x],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a");U.href=URL.createObjectURL(Z),U.download=`${s}_canva.csv`,U.style.display="none",document.body.appendChild(U),U.click(),document.body.removeChild(U),_(4,c="Filtreret CSV-fil er nu klar til download!")}const ee=()=>document.getElementById("csvFileInput").click();function ue(){s=Ge(this),_(2,s),_(1,v)}return[I,v,s,b,c,y,fe,!0,ee,ue]}class rt extends We{constructor(u){super(),Qe(this,u,$e,Ye,Ve,{prerender:7})}get prerender(){return this.$$.ctx[7]}}export{rt as component};
